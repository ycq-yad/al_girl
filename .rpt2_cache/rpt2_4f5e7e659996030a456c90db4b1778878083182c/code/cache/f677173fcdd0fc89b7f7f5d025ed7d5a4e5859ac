{
  "code": "import * as tslib_1 from \"tslib\";\r\nimport ConfigManager_Als from \"../../../../games/ConfigManager\";\r\nimport { PlayerDataManager_Als } from \"../../../../common/GameDataManager\";\r\nimport { GoodsType } from \"../../../../games/CommonDefine\";\r\nimport FailEntryTwoView_Als from \"./FailEntryTwoView\";\r\nimport ViewChangeManager_Als from \"../../../../games/ViewChangeManager\";\r\nimport AnimationManager_Als from \"../../../../manager/AnimationManager\";\r\nimport Als_SoundManager from \"../../../../common/SoundManager\";\r\nimport { MiniManeger_Als } from \"../../../../minigame/MiniManeger\";\r\nimport MoreGameOperRequestTwo_Als from \"../../MoreGameOperRequestTwo\";\r\nimport MoreGameView_Als from \"../..//moregame/MoreGameView\";\r\nimport { PopBaseScene } from \"../../../base/PopBaseScene\";\r\nimport GameCenterManager_Als from \"../../../../manager/GameCenterManager\";\r\nvar FailEntryOneView_Als = (function (_super) {\r\n    tslib_1.__extends(FailEntryOneView_Als, _super);\r\n    function FailEntryOneView_Als() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className_key = \"FailEntryOneView_Als\";\r\n        _this.showEnterType = BasePopAnimationEnterType.SCALE_MODE_BACK;\r\n        _this._nBtNextLevel = 320;\r\n        _this._nBtNextLevelSp = 100;\r\n        _this.nGlodCost = 200;\r\n        _this.bFlag = false;\r\n        _this.skin = \"game/uiView/FailEntryOneView.json\";\r\n        return _this;\r\n    }\r\n    FailEntryOneView_Als.prototype.childrenCreated = function () {\r\n        _super.prototype.childrenCreated.call(this);\r\n    };\r\n    FailEntryOneView_Als.prototype.initView = function () {\r\n        MiniManeger_Als.instance.showInterstitialAd();\r\n        MiniManeger_Als.instance.bFlagSpecialView = false;\r\n        this.bFlag = false;\r\n        this.refreshL_Als();\r\n        MiniManeger_Als.instance.StopVideo();\r\n        this.refreshRBG_Als();\r\n        this.img_back.visible = false;\r\n        this.initVFoR_Als();\r\n        this.proceMG_Als();\r\n        Laya.timer.clearAll(this.imageBtSign);\r\n        AnimationManager_Als.instance.zoomTween(this.imageBtSign, this.imageBtSign);\r\n    };\r\n    FailEntryOneView_Als.prototype.onRemoved = function () {\r\n        _super.prototype.onRemoved.call(this);\r\n        this.removeEvent();\r\n        if (this.aniReal) {\r\n            this.aniReal.stop();\r\n        }\r\n    };\r\n    FailEntryOneView_Als.prototype.onBack_Alt = function () {\r\n        MoreGameOperRequestTwo_Als.bOperFlag = true;\r\n        MoreGameOperRequestTwo_Als.bSuccess = false;\r\n        ViewManager.getInstance().showView(MoreGameOperRequestTwo_Als);\r\n        MiniManeger_Als.instance.bFlagSpecialView = true;\r\n        this.removeSelf();\r\n    };\r\n    FailEntryOneView_Als.prototype.onClick = function (evt) {\r\n        Als_SoundManager.getInstance().playEffect(\"button\", 1);\r\n        switch (evt.currentTarget) {\r\n            case this.imageRecv:\r\n                this.onCGR_Als();\r\n                break;\r\n            case this.imageBtSign:\r\n                this.onWWTR_Als();\r\n                break;\r\n            case this.btLable:\r\n                this.onNT_Als();\r\n                break;\r\n            case this.img_back:\r\n                this.onBack_Alt();\r\n                break;\r\n        }\r\n    };\r\n    FailEntryOneView_Als.prototype.addEvent = function () {\r\n        this.registerEvent(this.imageRecv, Laya.Event.CLICK, this.onClick, this);\r\n        this.registerEvent(this.imageBtSign, Laya.Event.CLICK, this.onClick, this);\r\n        this.registerEvent(this.btLable, Laya.Event.CLICK, this.onClick, this);\r\n        this.registerEvent(this.img_back, Laya.Event.CLICK, this.onClick, this);\r\n    };\r\n    FailEntryOneView_Als.prototype.onVo_Als = function (bSuccess, self) {\r\n        if (bSuccess) {\r\n            self.onFailRestartGame();\r\n        }\r\n        self.imageBtSign.on(Laya.Event.CLICK, self, self.onWWTR_Als);\r\n        if (ViewChangeManager_Als.getInstance().CurLevelBase) {\r\n            ViewChangeManager_Als.getInstance().CurLevelBase.levelOnShow();\r\n        }\r\n    };\r\n    FailEntryOneView_Als.prototype.onWWTR_Als = function () {\r\n        if (ViewChangeManager_Als.getInstance().CurLevelBase) {\r\n            ViewChangeManager_Als.getInstance().CurLevelBase.levelOnHide();\r\n        }\r\n        var self = this;\r\n        MiniManeger_Als.instance.playViderAd({\r\n            successFun: function () {\r\n                Laya.timer.once(100, self, function () {\r\n                    self.onVo_Als(true, self);\r\n                });\r\n            }\r\n        });\r\n    };\r\n    FailEntryOneView_Als.prototype.onCGR_Als = function () {\r\n        var b = PlayerDataManager_Als.getInstance().CheckGoods(GoodsType.enum_GoodsType_Glod, this.nGlodCost);\r\n        if (!b) {\r\n            return;\r\n        }\r\n        PlayerDataManager_Als.getInstance().subGoods(GoodsType.enum_GoodsType_Glod, this.nGlodCost);\r\n        this.onFRG_Als();\r\n    };\r\n    FailEntryOneView_Als.prototype.onFRG_Als = function () {\r\n        MiniManeger_Als.instance.hideBanner();\r\n        ViewChangeManager_Als.getInstance().restartGame(false);\r\n        MiniManeger_Als.instance.bFlagSpecialView = true;\r\n        this.removeSelf();\r\n    };\r\n    FailEntryOneView_Als.prototype.refreshRBG_Als = function () {\r\n        var stGameConfig = ConfigManager_Als.getInstance().getGameConfigDataByID(6);\r\n        if (stGameConfig) {\r\n            this.nGlodCost = parseInt(stGameConfig.strValue);\r\n        }\r\n        var b = PlayerDataManager_Als.getInstance().CheckGoods(GoodsType.enum_GoodsType_Glod, this.nGlodCost);\r\n        if (!b) {\r\n            this.imageRecv.visible = false;\r\n            return;\r\n        }\r\n        this.imageRecv.visible = true;\r\n        BitmapLabelUtils.setLabel(this.spGlod, this.nGlodCost.toString(), \"resource/assets/img/common/level_number1/level_number1_\", 0, \".png\", \"left\");\r\n    };\r\n    FailEntryOneView_Als.prototype.onNT_Als = function () {\r\n        Als_SoundManager.getInstance().playEffect(\"button\", 1);\r\n        if (MiniManeger_Als.instance.isWxMiniGameForOperReq()) {\r\n            MoreGameView_Als.bSuccess = false;\r\n            ViewManager.getInstance().showView(MoreGameView_Als);\r\n        }\r\n        else {\r\n            ViewManager.getInstance().showView(FailEntryTwoView_Als);\r\n        }\r\n        MiniManeger_Als.instance.bFlagSpecialView = true;\r\n        this.removeSelf();\r\n    };\r\n    FailEntryOneView_Als.prototype.initVFoR_Als = function () {\r\n        if (MiniManeger_Als.instance.isWxMiniGameForOperReq()) {\r\n            this.someChange();\r\n            if (BaseConst.infos.gameInfo.openPsAward == 1) {\r\n                this.openClick_Als();\r\n                return;\r\n            }\r\n            else {\r\n                this.btLable.bottom = this._nBtNextLevel;\r\n            }\r\n        }\r\n        else {\r\n            MiniManeger_Als.instance.showBannerAd();\r\n        }\r\n    };\r\n    FailEntryOneView_Als.prototype.refreshL_Als = function () {\r\n        var _this = this;\r\n        this.btLable.visible = false;\r\n        if (!MiniManeger_Als.instance.isWxMiniGameForOperReq()) {\r\n            Laya.timer.once(3000, this, function () {\r\n                _this.btLable.visible = true;\r\n            });\r\n        }\r\n        else {\r\n            Laya.timer.once(2000, this, function () {\r\n                _this.btLable.visible = true;\r\n            });\r\n        }\r\n    };\r\n    FailEntryOneView_Als.prototype.someChange = function () {\r\n        this.boxAni.visible = false;\r\n        this.box_wecat.visible = true;\r\n        if (this.imageRecv.visible) {\r\n            this.imageBtSign.left = 30;\r\n            this.imageRecv.bottom = this.imageBtSign.bottom;\r\n            this.imageRecv.right = 30;\r\n        }\r\n    };\r\n    FailEntryOneView_Als.prototype.openClick_Als = function () {\r\n        var _this = this;\r\n        this.btLable.bottom = this._nBtNextLevelSp;\r\n        MiniManeger_Als.instance.bFlagSpecialView = false;\r\n        MiniManeger_Als.instance.hideBanner();\r\n        Laya.timer.once(1000, this, function () {\r\n            MiniManeger_Als.instance.bFlagSpecialView = true;\r\n            MiniManeger_Als.instance.showBannerAd();\r\n            Laya.Tween.to(_this.btLable, { bottom: _this._nBtNextLevel }, 500, null);\r\n        });\r\n    };\r\n    FailEntryOneView_Als.prototype.proceMG_Als = function () {\r\n        if (MiniManeger_Als.instance.isWxMiniGameForOperReq()) {\r\n            if (BaseConst.infos.gameInfo.openalllevel == 1) {\r\n                this.box_wecat.removeChildren();\r\n                this.box_wecat.addChild(GameCenterManager_Als.getInstance().showMoreGameinView_als(true));\r\n            }\r\n        }\r\n    };\r\n    return FailEntryOneView_Als;\r\n}(PopBaseScene));\r\nexport default FailEntryOneView_Als;\r\n",
  "references": [
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/games/ConfigManager.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/common/GameDataManager.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/games/CommonDefine.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/views/game/Als_PopView/SettlementVew/FailEntryTwoView.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/games/ViewChangeManager.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/manager/AnimationManager.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/common/SoundManager.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/minigame/MiniManeger.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/views/game/MoreGameOperRequest.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/views/game/MoreGameOperRequestTwo.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/views/game/WeCatOperReqItem713.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/PlatformDY.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/common/GameData.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/views/game/moregame/MoreGameView.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/views/base/PopBaseScene.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/manager/GameCenterManager.ts"
  ]
}
