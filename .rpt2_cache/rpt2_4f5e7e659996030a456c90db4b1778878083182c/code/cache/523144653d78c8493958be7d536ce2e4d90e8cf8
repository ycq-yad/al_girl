{
  "code": "import * as tslib_1 from \"tslib\";\r\nimport { PlayerDataManager_Als } from \"../../../common/GameDataManager\";\r\nimport Als_SoundManager from \"../../../common/SoundManager\";\r\nimport GameEvent_Als from \"../../../games/GameEvent\";\r\nimport { GoodsType } from \"../../../games/CommonDefine\";\r\nvar InviteItem_Als = (function (_super) {\r\n    tslib_1.__extends(InviteItem_Als, _super);\r\n    function InviteItem_Als(_data) {\r\n        var _this = _super.call(this) || this;\r\n        _this.className_key = \"InviteItem\";\r\n        _this.data = _data;\r\n        _this.skin = \"game/uiView/InviteFriendsIndexView.json\";\r\n        return _this;\r\n    }\r\n    InviteItem_Als.prototype.childrenCreated = function () {\r\n        _super.prototype.childrenCreated.call(this);\r\n    };\r\n    InviteItem_Als.prototype.adaptationStage = function () {\r\n        this.size(735, 128);\r\n    };\r\n    InviteItem_Als.prototype.onAddStage = function () {\r\n        if (this.isCreate) {\r\n            this.initView();\r\n            this.addEvent();\r\n        }\r\n    };\r\n    InviteItem_Als.prototype.addEvent = function () {\r\n        this.img_get.on(Laya.Event.CLICK, this, this.onGet);\r\n        this.img_null.on(Laya.Event.CLICK, this, this.onInvite);\r\n    };\r\n    InviteItem_Als.prototype.setData = function (data) {\r\n        this.data = data;\r\n        if (this.isCreate) {\r\n            this.initView();\r\n        }\r\n    };\r\n    InviteItem_Als.prototype.initView = function () {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\r\n            var data;\r\n            return tslib_1.__generator(this, function (_a) {\r\n                if (!this.data)\r\n                    return [2];\r\n                data = this.data;\r\n                this.img_get.visible = this.img_no.visible = false;\r\n                BitmapLabelUtils.setLabel(this.img_index, data.id + \"\", \"resource/assets/img/ui/invite/invite_number1/invite_number1_\", -10, \".png\", \"center\");\r\n                if (data.head && data.head != \"\") {\r\n                    this.img_head.skin = data.head;\r\n                }\r\n                else {\r\n                    this.img_head.skin = \"\";\r\n                }\r\n                BitmapLabelUtils.setLabel(this.img_award, data.reward + \"\", \"resource/assets/img/common/level_number1/level_number1_\", 0);\r\n                if (data.lingqued) {\r\n                    this.img_get.visible = true;\r\n                    this.img_get.mouseEnabled = false;\r\n                    this.img_get.skin = \"resource/assets/img/ui/invite/invite_button_2.png\";\r\n                    this.img_null.visible = false;\r\n                    this.img_head.visible = true;\r\n                }\r\n                else {\r\n                    if (data.canLingqu) {\r\n                        this.img_get.visible = true;\r\n                        this.img_get.mouseEnabled = true;\r\n                        this.img_get.skin = \"resource/assets/img/ui/invite/invite_button_1.png\";\r\n                        this.img_null.visible = false;\r\n                        this.img_head.visible = true;\r\n                    }\r\n                    else {\r\n                        this.img_no.visible = true;\r\n                        this.img_null.visible = true;\r\n                        this.img_head.visible = false;\r\n                    }\r\n                }\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    InviteItem_Als.prototype.onGet = function () {\r\n        Als_SoundManager.getInstance().playEffect(\"button\", 1);\r\n        PlayerDataManager_Als.getInstance().AddGoods(GoodsType.enum_GoodsType_Sp, this.data.reward);\r\n        PlayerDataManager_Als.getInstance().stPlayerDataBase.inviteId.push(this.data.id);\r\n        PlayerDataManager_Als.getInstance().SaveData();\r\n        EventMgr.getInstance().sendEvent(GameEvent_Als.REFRESH_INVITE);\r\n    };\r\n    InviteItem_Als.prototype.onInvite = function () {\r\n    };\r\n    InviteItem_Als.prototype.removeEvent = function () {\r\n        this.img_get.off(Laya.Event.CLICK, this, this.onGet);\r\n        this.img_null.off(Laya.Event.CLICK, this, this.onInvite);\r\n    };\r\n    InviteItem_Als.prototype.onRemoved = function () {\r\n        _super.prototype.onRemoved.call(this);\r\n        this.data = null;\r\n        this.removeEvent();\r\n    };\r\n    return InviteItem_Als;\r\n}(BaseSceneUISkin));\r\nexport default InviteItem_Als;\r\n",
  "references": [
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/common/GameDataType.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/common/GameData.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/common/GameDataManager.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/common/SoundManager.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/games/GameEvent.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/games/CommonDefine.ts"
  ]
}
