{
  "code": "import * as tslib_1 from \"tslib\";\r\nimport { PlayerDataManager_Als } from \"../../../../common/GameDataManager\";\r\nimport { GoodsType } from \"../../../../games/CommonDefine\";\r\nimport ViewChangeManager_Als from \"../../../../games/ViewChangeManager\";\r\nimport ConfigManager_Als from \"../../../../games/ConfigManager\";\r\nimport Als_SoundManager from \"../../../../common/SoundManager\";\r\nimport { MiniManeger_Als } from \"../../../../minigame/MiniManeger\";\r\nimport { BaseUIScene } from \"../../../base/BaseUIScene\";\r\nimport GameCenterManager_Als from \"../../../../manager/GameCenterManager\";\r\nvar LevelViewItem_Als = (function (_super) {\r\n    tslib_1.__extends(LevelViewItem_Als, _super);\r\n    function LevelViewItem_Als(data_) {\r\n        var _this = _super.call(this) || this;\r\n        _this.className_key = \"LevelViewItem\";\r\n        _this._nCurLeve = data_;\r\n        _this.width = 285;\r\n        _this.height = 316;\r\n        _this.pivotX = 285 / 2;\r\n        _this.pivotY = 316 / 2;\r\n        _this.skin = \"game/uiView/LevelIndexView.json\";\r\n        return _this;\r\n    }\r\n    LevelViewItem_Als.prototype.onDisable = function () {\r\n        this.off(Laya.Event.CLICK, this, this.enterL_Als);\r\n        Laya.Tween.clearAll(this);\r\n        Laya.timer.clearAll(this.openLIA_Als);\r\n    };\r\n    LevelViewItem_Als.prototype.onEnable = function () {\r\n        this.on(Laya.Event.CLICK, this, this.enterL_Als);\r\n    };\r\n    LevelViewItem_Als.prototype.childrenCreated = function () {\r\n        this.refreshV_Als();\r\n    };\r\n    LevelViewItem_Als.prototype.refresUIInfo = function () {\r\n        BitmapLabelUtils.setLabel(this.levelNum, this._nCurLeve.toString(), \"resource/assets/img/common/level_number1/level_number1_\", 0, \".png\", \"center\");\r\n        if (this._nCurLeve <= PlayerDataManager_Als.getInstance().getCurLevelMax()) {\r\n            this.spG.visible = true;\r\n            this.spBg.loadImage(\"resource/assets/img/ui/levelview/level_baseboard_1.png\");\r\n        }\r\n        else if (this._nCurLeve == PlayerDataManager_Als.getInstance().getLevelToChangeMaxLevelForLevelView()) {\r\n            this.spBg.loadImage(\"resource/assets/img/ui/levelview/level_baseboard_2.png\");\r\n            this._bAni_Als = true;\r\n        }\r\n        else {\r\n            this.spBg.loadImage(\"resource/assets/img/ui/levelview/level_baseboard_3.png\");\r\n        }\r\n    };\r\n    LevelViewItem_Als.prototype.enterL_Als = function () {\r\n        Als_SoundManager.getInstance().playEffect(\"button\", 1);\r\n        if (this._nCurLeve > PlayerDataManager_Als.getInstance().getLevelToChangeMaxLevelForLevelView()) {\r\n            TipsManager.getInstance().showDefaultTips(\"未解锁\");\r\n            return;\r\n        }\r\n        if (DeviceUtil.isWXMiniGame()) {\r\n            if (!MiniManeger_Als.instance.bPushMsgShowFlagChooseLevel) {\r\n                MiniManeger_Als.instance.wxPushMsg();\r\n                MiniManeger_Als.instance.bPushMsgShowFlagChooseLevel = true;\r\n            }\r\n        }\r\n        var nSpCost = 1;\r\n        var stGameConfig = ConfigManager_Als.getInstance().getGameConfigDataByID(8);\r\n        if (stGameConfig) {\r\n            nSpCost = parseInt(stGameConfig.strValue);\r\n        }\r\n        var b = PlayerDataManager_Als.getInstance().CheckGoods(GoodsType.enum_GoodsType_Sp, nSpCost);\r\n        if (!b) {\r\n            GameCenterManager_Als.getInstance().oppenAddSpView();\r\n            return;\r\n        }\r\n        PlayerDataManager_Als.getInstance().subGoods(GoodsType.enum_GoodsType_Sp, nSpCost);\r\n        this.enterOp_Als();\r\n        this._pParentView_Alst.closeVWGTL_Als();\r\n    };\r\n    LevelViewItem_Als.prototype.refreshV_Als = function () {\r\n        this.spG.visible = false;\r\n        this._bAni_Als = false;\r\n        this.refresUIInfo();\r\n        this.openLIA_Als();\r\n    };\r\n    LevelViewItem_Als.prototype.setData = function (data_) {\r\n        this._nCurLeve = data_;\r\n        this.refreshV_Als();\r\n    };\r\n    LevelViewItem_Als.prototype.setPV_Als = function (_pParentView_Alst) {\r\n        this._pParentView_Alst = _pParentView_Alst;\r\n    };\r\n    LevelViewItem_Als.prototype.enterOp_Als = function () {\r\n        ViewChangeManager_Als.getInstance().gotoLevel(this._nCurLeve);\r\n    };\r\n    LevelViewItem_Als.prototype.openLIA_Als = function () {\r\n        var _this = this;\r\n        if (this._nCurLeve == PlayerDataManager_Als.getInstance().getLevelToChangeMaxLevel() && this._bAni_Als) {\r\n            Laya.Tween.clearAll(this);\r\n            Laya.Tween.to(this, { scaleX: 1.1, scaleY: 1.1 }, 300, Laya.Ease.sineOut, Laya.Handler.create(this, function (args) {\r\n                Laya.Tween.to(_this, { scaleX: 1, scaleY: 1 }, 300, Laya.Ease.sineOut, Laya.Handler.create(_this, function (args) {\r\n                    Laya.timer.once(0, _this, _this.openLIA_Als);\r\n                }));\r\n            }));\r\n        }\r\n        else {\r\n            Laya.Tween.clearAll(this);\r\n            Laya.timer.clearAll(this.openLIA_Als);\r\n        }\r\n    };\r\n    return LevelViewItem_Als;\r\n}(BaseUIScene));\r\nexport default LevelViewItem_Als;\r\n",
  "references": [
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/common/GameDataManager.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/games/GameStateManager.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/games/CommonDefine.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/manager/LevelManager.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/views/game/Als_PopView/LevelView/LevelView.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/games/ViewChangeManager.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/games/ConfigManager.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/common/SoundManager.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/minigame/MiniManeger.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/views/game/Als_PopView/AddPsView.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/views/base/BaseUIScene.ts",
    "E:/laya/project/laya_girl_ts_wecat_git/src/script/manager/GameCenterManager.ts"
  ]
}
