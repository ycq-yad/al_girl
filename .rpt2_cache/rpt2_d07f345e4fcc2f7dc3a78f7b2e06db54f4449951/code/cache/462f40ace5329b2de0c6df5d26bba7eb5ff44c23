{
  "code": "import * as tslib_1 from \"tslib\";\r\nimport GuessLikeItem_Als from \"./GuessLikeItem\";\r\nvar GuessLike_Als = (function (_super) {\r\n    tslib_1.__extends(GuessLike_Als, _super);\r\n    function GuessLike_Als(skin, subItemSkin, listdata_, itemW) {\r\n        var _this = _super.call(this) || this;\r\n        _this.className_key = \"GuessLike\";\r\n        _this.listdata = [];\r\n        _this.isTouch = false;\r\n        _this.index = 0;\r\n        _this.len = 0;\r\n        _this.nNum = 0;\r\n        _this.subItemSkin = subItemSkin;\r\n        listdata_ && (_this.listdata = listdata_);\r\n        _this.itemW = itemW;\r\n        _this.skin = skin;\r\n        return _this;\r\n    }\r\n    GuessLike_Als.prototype.childrenCreated = function () {\r\n        this.width = 1026;\r\n        this.height = 330;\r\n        this.panelList.hScrollBarSkin = \"\";\r\n        this.panelList.hScrollBar.touchScrollEnable = false;\r\n        this.initList();\r\n    };\r\n    GuessLike_Als.prototype.initList = function () {\r\n        for (var i = 0, len = this.listdata.length; i < len; i++) {\r\n            var item = new GuessLikeItem_Als(this.subItemSkin, this.listdata[i]);\r\n            this.boxView.addChild(item);\r\n            item.x = this.itemW * (i - 1);\r\n        }\r\n        this.index = -1;\r\n        this.len = this.listdata.length;\r\n        this.boxView.x = 0;\r\n        this.onEnable();\r\n        this.panelList.on(Laya.Event.MOUSE_DOWN, this, this.mouseDown);\r\n    };\r\n    GuessLike_Als.prototype.onEnable = function () {\r\n        if (this.isCreate) {\r\n            this.aniPerIndex();\r\n        }\r\n    };\r\n    GuessLike_Als.prototype.onEnabled = function () {\r\n        this.btn_moreGame && this.btn_moreGame.on(Laya.Event.CLICK, this, this.onMoreGame);\r\n    };\r\n    GuessLike_Als.prototype.onMoreGame = function () {\r\n        this.onMoreGameCall && this.onMoreGameCall();\r\n    };\r\n    GuessLike_Als.prototype.onDisable = function () {\r\n        if (this.isCreate) {\r\n            this.panelList.clearTimer(this, this.frameChange);\r\n            this.panelList.clearTimer(this, this.aniLoop);\r\n            this.btn_moreGame && this.btn_moreGame.off(Laya.Event.CLICK, this, this.onMoreGame);\r\n        }\r\n    };\r\n    GuessLike_Als.prototype.mouseDown = function (evt) {\r\n        this.isTouch = true;\r\n        this.clickX = evt.stageX;\r\n        this.starX = this.boxView.x;\r\n        Laya.stage.on(Laya.Event.MOUSE_MOVE, this, this.mouseMove);\r\n        Laya.stage.on(Laya.Event.MOUSE_UP, this, this.mouseOutUp);\r\n    };\r\n    GuessLike_Als.prototype.frameChange = function () {\r\n        var self = this;\r\n        if (!self.isTouch) {\r\n            self.boxView.x -= 1;\r\n            this.nNum += 1;\r\n            if (this.nNum == self.itemW) {\r\n                this.panelList.clearTimer(this, this.frameChange);\r\n                this.nNum = 0;\r\n            }\r\n        }\r\n        var curX = self.boxView.x;\r\n        if (curX > (self.index + 1) * self.itemW) {\r\n            self.index++;\r\n            var last = self.boxView.removeChildAt(self.boxView.numChildren - 1);\r\n            var first = self.boxView.getChildAt(0);\r\n            last.x = first.x - self.itemW;\r\n            self.boxView.addChildAt(last, 0);\r\n            last.exposure();\r\n            return;\r\n        }\r\n        if (curX < (self.index - 1) * self.itemW) {\r\n            self.index--;\r\n            var last = self.boxView.getChildAt(self.boxView.numChildren - 1);\r\n            var first = self.boxView.removeChildAt(0);\r\n            first.x = last.x + self.itemW;\r\n            self.boxView.addChild(first);\r\n            first.exposure();\r\n            return;\r\n        }\r\n    };\r\n    GuessLike_Als.prototype.mouseMove = function (evt) {\r\n        this.boxView.x = this.starX + (evt.stageX - this.clickX);\r\n    };\r\n    GuessLike_Als.prototype.mouseOutUp = function () {\r\n        this.isTouch = false;\r\n        Laya.stage.off(Laya.Event.MOUSE_MOVE, this, this.mouseMove);\r\n        Laya.stage.off(Laya.Event.MOUSE_UP, this, this.mouseOutUp);\r\n    };\r\n    GuessLike_Als.prototype.aniPerIndex = function () {\r\n        this.panelList.frameLoop(400, this, this.aniLoop);\r\n    };\r\n    GuessLike_Als.prototype.aniLoop = function () {\r\n        this.panelList.clearTimer(this, this.frameChange);\r\n        this.panelList.frameLoop(1, this, this.frameChange);\r\n    };\r\n    return GuessLike_Als;\r\n}(BaseSceneUISkin));\r\nexport default GuessLike_Als;\r\n",
  "references": [
    "E:/laya/project/laya_girl_ts_wecat/src/script/views/game/GuessLikeItem.ts",
    "E:/laya/project/laya_girl_ts_wecat/src/script/views/game/GuessItemData.ts"
  ]
}
