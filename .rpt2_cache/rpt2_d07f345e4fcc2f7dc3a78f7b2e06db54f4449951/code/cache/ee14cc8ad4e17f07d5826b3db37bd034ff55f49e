{
  "code": "import { PlayerDataManager_Als } from \"../common/GameDataManager\";\r\nimport { Als_GameData } from \"../common/GameData\";\r\nvar ConfigManager_Als = (function () {\r\n    function ConfigManager_Als() {\r\n        this.mapDialogBoxIndex = {};\r\n    }\r\n    ConfigManager_Als.getInstance = function () {\r\n        if (!ConfigManager_Als.instance) {\r\n            ConfigManager_Als.instance = new ConfigManager_Als();\r\n        }\r\n        return ConfigManager_Als.instance;\r\n    };\r\n    ConfigManager_Als.prototype.initConfigInfo = function () {\r\n        var self = ConfigManager_Als.instance;\r\n        return new Promise(function (resolve) {\r\n            var count = 0;\r\n            var len = 5;\r\n            var loadConfigSucc = function () {\r\n                count++;\r\n                if (count >= len) {\r\n                    resolve();\r\n                }\r\n            };\r\n            Laya.loader.load('resource/assets/config/GameConfig.json' + Als_GameData.getInstance().randomTime, new Laya.Handler(self, function (json) {\r\n                if (typeof (json) == \"string\") {\r\n                    self.aryGameConfig = JSON.parse(json);\r\n                }\r\n                else {\r\n                    self.aryGameConfig = json;\r\n                }\r\n                loadConfigSucc();\r\n            }));\r\n            Laya.loader.load('resource/assets/config/SignConfig.json' + Als_GameData.getInstance().randomTime, new Laya.Handler(self, function (json) {\r\n                if (typeof (json) == \"string\") {\r\n                    self.arySignData = JSON.parse(json);\r\n                }\r\n                else {\r\n                    self.arySignData = json;\r\n                }\r\n                loadConfigSucc();\r\n            }));\r\n            Laya.loader.load('resource/assets/config/DialogBox.json' + Als_GameData.getInstance().randomTime, new Laya.Handler(self, function (json) {\r\n                if (typeof (json) == \"string\") {\r\n                    self.aryDialogBoxIndex = JSON.parse(json);\r\n                }\r\n                else {\r\n                    self.aryDialogBoxIndex = json;\r\n                }\r\n                var nLen = self.aryDialogBoxIndex.length;\r\n                for (var i = 0; i < nLen; ++i) {\r\n                    self.mapDialogBoxIndex[self.aryDialogBoxIndex[i].id] = self.aryDialogBoxIndex[i];\r\n                }\r\n                loadConfigSucc();\r\n            }));\r\n            Laya.loader.load('resource/assets/config/LevelPsInfo.json' + Als_GameData.getInstance().randomTime, new Laya.Handler(self, function (json) {\r\n                if (typeof (json) == \"string\") {\r\n                    self.aryLevelPsData = JSON.parse(json);\r\n                }\r\n                else {\r\n                    self.aryLevelPsData = json;\r\n                }\r\n                loadConfigSucc();\r\n            }));\r\n            Laya.loader.load('resource/assets/config/InviteConfig.json' + Als_GameData.getInstance().randomTime, new Laya.Handler(self, function (json) {\r\n                if (typeof (json) == \"string\") {\r\n                    self.aryInviteConfigIndex = JSON.parse(json);\r\n                }\r\n                else {\r\n                    self.aryInviteConfigIndex = json;\r\n                }\r\n                loadConfigSucc();\r\n            }));\r\n        });\r\n    };\r\n    ConfigManager_Als.prototype.getInviteConfigInfo = function () {\r\n        return ConfigManager_Als.instance.aryInviteConfigIndex;\r\n    };\r\n    ConfigManager_Als.prototype.getSignDataAll = function () {\r\n        return ConfigManager_Als.instance.arySignData;\r\n    };\r\n    ConfigManager_Als.prototype.getSignDataBySignID = function (nIndex) {\r\n        if (nIndex < 0 || nIndex >= ConfigManager_Als.instance.arySignData.length) {\r\n            return null;\r\n        }\r\n        return ConfigManager_Als.instance.arySignData[nIndex];\r\n    };\r\n    ConfigManager_Als.prototype.getGameConfigDataByID = function (nID) {\r\n        if (nID > ConfigManager_Als.instance.aryGameConfig.length || nID <= 0) {\r\n            return null;\r\n        }\r\n        var nRealID = nID - 1;\r\n        return ConfigManager_Als.instance.aryGameConfig[nRealID];\r\n    };\r\n    ConfigManager_Als.prototype.getTreasureByCurLevel = function () {\r\n        var nRealIndex = PlayerDataManager_Als.getInstance().getCurLevel();\r\n        if (nRealIndex < 0 || ConfigManager_Als.instance.aryLevelPsData.length < 0) {\r\n            return 0;\r\n        }\r\n        nRealIndex = nRealIndex >= ConfigManager_Als.instance.aryLevelPsData.length ? ConfigManager_Als.instance.aryLevelPsData.length - 1 : nRealIndex;\r\n        return ConfigManager_Als.instance.aryLevelPsData[nRealIndex].nPs;\r\n    };\r\n    ConfigManager_Als.prototype.getDialogInfo = function (nDialogID) {\r\n        return ConfigManager_Als.instance.mapDialogBoxIndex[nDialogID];\r\n    };\r\n    return ConfigManager_Als;\r\n}());\r\nexport default ConfigManager_Als;\r\n",
  "references": [
    "E:/laya/project/laya_girl_ts_wecat/src/script/games/ConfigDefine.ts",
    "E:/laya/project/laya_girl_ts_wecat/src/script/common/GameDataManager.ts",
    "E:/laya/project/laya_girl_ts_wecat/src/script/common/GameData.ts"
  ]
}
