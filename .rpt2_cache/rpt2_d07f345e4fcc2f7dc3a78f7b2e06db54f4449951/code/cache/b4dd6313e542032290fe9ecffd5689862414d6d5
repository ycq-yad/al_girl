{
  "code": "import * as tslib_1 from \"tslib\";\r\nimport { BasePopScene } from \"../../base/BasePopScene\";\r\nimport { MiniManeger_Als } from \"../../../minigame/MiniManeger\";\r\nimport { PlayerDataManager_Als } from \"../../../common/GameDataManager\";\r\nvar LotteryPopScene = (function (_super) {\r\n    tslib_1.__extends(LotteryPopScene, _super);\r\n    function LotteryPopScene(data) {\r\n        var _this = _super.call(this, data) || this;\r\n        _this.className_key = \"LotteryPopScene\";\r\n        _this.viewData_ = data;\r\n        _this.skin = \"game/uiView/lottery/LotterPopScene.json\";\r\n        return _this;\r\n    }\r\n    LotteryPopScene.prototype.popAward = function () {\r\n        var data = this.viewData_;\r\n        if (data.type == 1) {\r\n            this.icon_title.skin = 'resource/assets/img/ui/qq/lottery/luckyturntable_icon_2.png';\r\n        }\r\n        else {\r\n            this.icon_title.skin = 'resource/assets/img/ui/qq/lottery/luckyturntable_icon_1.png';\r\n        }\r\n        this.img_double.visible = BaseConst.infos.gameInfo.openPsAward == 0;\r\n        if (!this.img_double.visible) {\r\n            BitmapLabelUtils.setLabel(this.box_count, data.count * 2 + '', \"resource/assets/img/ui/qq/lottery/luckyturntable_number/luckyturntable_number_\", 0, \".png\", \"left\");\r\n        }\r\n        else {\r\n            BitmapLabelUtils.setLabel(this.box_count, data.count + '', \"resource/assets/img/ui/qq/lottery/luckyturntable_number/luckyturntable_number_\", 0, \".png\", \"left\");\r\n        }\r\n    };\r\n    LotteryPopScene.prototype.initView = function () {\r\n        this.popAward();\r\n    };\r\n    LotteryPopScene.prototype.addEvent = function () {\r\n        this.btn_rfeceive.on(Laya.Event.CLICK, this, this.onRecieve);\r\n        this.box_double.on(Laya.Event.CLICK, this, this.onSelected);\r\n        this.btn_double.on(Laya.Event.CLICK, this, this.onDoubleRecieve);\r\n    };\r\n    LotteryPopScene.prototype.onSelected = function () {\r\n        this.img_double.visible = !this.img_double.visible;\r\n        if (!this.img_double.visible) {\r\n            BitmapLabelUtils.setLabel(this.box_count, this.viewData_.count * 2 + '', \"resource/assets/img/ui/qq/lottery/luckyturntable_number/luckyturntable_number_\", 0, \".png\", \"left\");\r\n        }\r\n        else {\r\n            BitmapLabelUtils.setLabel(this.box_count, this.viewData_.count + '', \"resource/assets/img/ui/qq/lottery/luckyturntable_number/luckyturntable_number_\", 0, \".png\", \"left\");\r\n        }\r\n    };\r\n    LotteryPopScene.prototype.removeSelf = function () {\r\n        this.box_count.destroyChildren();\r\n        return _super.prototype.removeSelf.call(this);\r\n    };\r\n    LotteryPopScene.prototype.getAward = function (mul) {\r\n        PlayerDataManager_Als.getInstance().AddGoods(this.viewData_.type, this.viewData_.count * mul);\r\n        this.removeSelf();\r\n    };\r\n    LotteryPopScene.prototype.onRecieve = function () {\r\n        if (!this.img_double.visible) {\r\n            this.onDoubleRecieve();\r\n        }\r\n        else {\r\n            this.getAward(1);\r\n        }\r\n    };\r\n    LotteryPopScene.prototype.onDoubleRecieve = function () {\r\n        var self = this;\r\n        MiniManeger_Als.instance.playViderAd({\r\n            successFun: function () {\r\n                self.getAward(2);\r\n            }\r\n        });\r\n    };\r\n    LotteryPopScene.prototype.removeEvent = function () {\r\n        this.btn_rfeceive.off(Laya.Event.CLICK, this, this.onRecieve);\r\n        this.box_double.off(Laya.Event.CLICK, this, this.onSelected);\r\n        this.btn_double.off(Laya.Event.CLICK, this, this.onDoubleRecieve);\r\n    };\r\n    return LotteryPopScene;\r\n}(BasePopScene));\r\nexport { LotteryPopScene };\r\n",
  "references": [
    "E:/laya/project/laya_girl_ts_wecat/src/script/views/base/BasePopScene.ts",
    "E:/laya/project/laya_girl_ts_wecat/src/script/minigame/MiniManeger.ts",
    "E:/laya/project/laya_girl_ts_wecat/src/script/common/GameDataManager.ts"
  ]
}
